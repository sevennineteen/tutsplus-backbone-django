<html>
	<head>
		<title></title>
		
		<script src="//cdnjs.cloudflare.com/ajax/libs/underscore.js/1.4.2/underscore-min.js"></script>
		<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
		<script src="//cdnjs.cloudflare.com/ajax/libs/backbone.js/0.9.2/backbone-min.js"></script>

	</head>
	<body>
		<h1>Contacts</h1>
		
		<form id="addContact">
			<div>
				<label for="first_name">First Name:</label>
				<input type="text" id="first_name" name="first_name"/>
			</div>
			<div>
				<label for="last_name">Last Name:</label>
				<input type="text" id="last_name" name="last_name"/>
			</div>
			<div>
				<label for="email_address">Email:</label>
				<input type="text" id="email_address" name="email_address"/>
			</div>
			<div>
				<label for="description">Description:</label>
				<textarea id="description" name="description"></textarea>
			</div>
			<div>
				<input type="submit" value="Add Contact"/>
			</div>
		</form>
		
		<table id="allContacts">
			<thead>
				<tr>
					<td>First</td>
					<td>Last</td>
					<td>Email</td>
					<td>Desc</td>
					<td>Actions</td>
				</tr>
			</thead>
		</table>
		
		<div id="editContact"></div>

		<script type="text/template" id="allContactsTemplate">
			<td><%= first_name %></td>
			<td><%= last_name %></td>
			<td><%= email_address %></td>
			<td><%= description %></td>
			<td>
				<a class="edit" href="#contacts/<%= id %>">Edit</a>
				<a class="delete" href="#contacts/<%= id %>">Delete</a>
			</td>
		</script>

		<script type="text/template" id="editContactTemplate">
			<form action="" id="editContact">
			<div>
				<label for="edit_first_name">First Name:</label>
				<input type="text" id="edit_first_name" name="edit_first_name" value="<%= first_name %>"/>
			</div>
			<div>
				<label for="edit_last_name">Last Name:</label>
				<input type="text" id="edit_last_name" name="edit_last_name" value="<%= last_name %>"/>
			</div>
			<div>
				<label for="edit_email_address">Email:</label>
				<input type="text" id="edit_email_address" name="edit_email_address" value="<%= email_address %>"/>
			</div>
			<div>
				<label for="edit_description">Description:</label>
				<textarea id="edit_description" name="edit_description"><%= description %></textarea>
			</div>
			<div>
				<input type="button" class="cancel" value="Cancel"/>
				<input type="submit" value="Edit Contact" value=""/>
			</div>
		</form>
		</script>

		<!-- backbone tutorial scripts -->
		<script src="/static/js/main.js"></script>
		<script src="/static/js/models.js"></script>
		<script src="/static/js/collections.js"></script>
		<script src="/static/js/views.js"></script>
		<script src="/static/js/router.js"></script>

		<script>
			new App.Router;
			Backbone.history.start();

			App.contacts = new App.Collections.Contacts;
			App.contacts.fetch().then(function () {
				new App.Views.App({ collection: App.contacts });
			});
		</script>

	</body>
</html>